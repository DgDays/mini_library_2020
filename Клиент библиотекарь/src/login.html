<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Mini-lib</title>
    <link rel="stylesheet" href="login.css">
  </head>
    <body>
      <form>
  <input checked id='signin' name='action' type='radio' value='signin'>
  <label for='signin'>Войти</label>
  <input id='signup' name='action' type='radio' value='signup'>
  <label for='signup'>Зарегистрироваться</label>
  <input id='reset' name='action' type='radio' value='reset'>
  <label for='reset'>Сброс</label>
  <div id='wrapper'>
    <div id='arrow'></div>
    <input placeholder='Логин' id="login" type="text">
    <input placeholder='Пароль' id="password" type="password">
    <input placeholder='Повторить пароль' id='repass' type="password">
  </div>
  <button class="login" id="btn" type='submit'>
    <span>
      Сбросить пароль
      <br>
      Войти
      <br>
      Принять
    </span>
  </button>
</form>
<div id='hint'>Нажмите на поля, они не кусаются ; )</div>
<script>
        ws.onmessage = function (event) {
        };
      </script>
      <script>
        document.getElementById('btn').onclick = function() {
          var log = document.getElementById('login').value;
          var password = document.getElementById('password').value;
          var ret;
          var ws = new WebSocket("ws://127.0.0.1:8765/"),
              messages = document.createElement('ul');
              ws.onopen = function () {
                  let data = {
                      comm: 'login',
                      login: log,
                      password: password
                  };
                  let json = JSON.stringify(data);
                   ws.send(json);
              };
              ws.onmessage = function (event) {
                    ret = JSON.parse(event.data);
                
                    if(ret.res != "None") {
                      alert('Пароль верный');
                      window.close()
                    } else {
                      alert('Пароль неверный');
                      document.getElementById('login').value = '';
                      document.getElementById('password').value = '';
            }
          };
        }
      </script>

    </body>
<!-- https://codepen.io/m0n4d/pen/qJBazW?editors=1100 -->
<!-- https://codepen.io/_fbrz/pen/pvZRNK -->
</html>